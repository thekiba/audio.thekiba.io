<!DOCTYPE html>
<html>
<head>
    <title></title>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=1000px, initial-scale=1">

    <link rel="stylesheet" href="/assets/stylesheets/vendors/fullcalendar.css">
    <link rel="stylesheet" href="/assets/stylesheets/vendors/animate.min.css">
    <link rel="stylesheet" href="/assets/stylesheets/vendors/sweet-alert.min.css">
    <link rel="stylesheet" href="/assets/stylesheets/vendors/material-design-iconic-font.min.css">
    <link rel="stylesheet" href="/assets/stylesheets/vendors/socicon.min.css">
    <link rel="stylesheet" href="/assets/stylesheets/theme/app.min.1.css">
    <link rel="stylesheet" href="/assets/stylesheets/theme/app.min.2.css">

    <script type="text/javascript" src="/assets/javascripts/vendors/jquery-2.1.4.min.js"></script>
    <script type="text/javascript" src="/assets/javascripts/vendors/bootstrap.min.js"></script>
    <script type="text/javascript" src="/assets/javascripts/vendors/jquery.flot.min.js"></script>
    <script type="text/javascript" src="/assets/javascripts/vendors/jquery.flot.resize.min.js"></script>
    <script type="text/javascript" src="/assets/javascripts/vendors/curvedLines.js"></script>
    <script type="text/javascript" src="/assets/javascripts/vendors/jquery.sparkline.min.js"></script>
    <script type="text/javascript" src="/assets/javascripts/vendors/jquery.easypiechart.min.js"></script>
    <script type="text/javascript" src="/assets/javascripts/vendors/chosen.jquery.min.js"></script>
    <script type="text/javascript" src="/assets/javascripts/vendors/moment.min.js"></script>
    <script type="text/javascript" src="/assets/javascripts/vendors/fullcalendar.min.js"></script>
    <script type="text/javascript" src="/assets/javascripts/vendors/jquery.simpleWeather.min.js"></script>
    <script type="text/javascript" src="/assets/javascripts/vendors/jquery.autosize.min.js"></script>
    <script type="text/javascript" src="/assets/javascripts/vendors/jquery.nicescroll.min.js"></script>
    <script type="text/javascript" src="/assets/javascripts/vendors/waves.min.js"></script>
    <script type="text/javascript" src="/assets/javascripts/vendors/bootstrap-growl.min.js"></script>
    <script type="text/javascript" src="/assets/javascripts/vendors/bootstrap-select.min.js"></script>
    <script type="text/javascript" src="/assets/javascripts/vendors/sweet-alert.min.js"></script>
    <script type="text/javascript" src="/assets/javascripts/theme/curved-line-chart.js"></script>
    <script type="text/javascript" src="/assets/javascripts/theme/line-chart.js"></script>
    <script type="text/javascript" src="/assets/javascripts/theme/charts.js"></script>
    <script type="text/javascript" src="/assets/javascripts/theme/functions.js"></script>

    <script src="https://vk.com/js/api/xd_connection.js?2" type="text/javascript"></script>
    <script type="text/javascript" src="/assets/javascripts/application/audio.js"></script>
</head>
<body>

        <section id="main">        
            <section id="content">

                <div class="container-fluid invoice">
                    
                    <div class="card">
                        <div class="card-header ch-alt text-center">
                            <p id="order_status"></p>
                            <!-- <img id="profile_image" class="i-logo" alt=""> -->
                        </div>
                        
                        <div class="card-body card-padding" style="overflow-y: auto; max-height: 470px">
                            
                            <div class="clearfix"></div>
                            
                            <div class="row m-t-25 p-0 m-b-25">
                                <div class="col-xs-4">
                                    <div class="bgm-gray brd-2 p-15">
                                        <div class="c-white m-b-5">Количество аудиозаписей</div>
                                        <h2 id="order_all" class="m-0 c-white f-300">-</h2>
                                    </div>
                                </div>
                                
                                <div class="col-xs-4">
                                    <div class="bgm-gray brd-2 p-15">
                                        <div class="c-white m-b-5">Осталось операций</div>
                                        <h2 id="order_count" class="m-0 c-white f-300">-</h2>
                                    </div>
                                </div>

                                <div class="col-xs-4">
                                    <button class="btn bgm-deeporange waves-effect brd-2 p-30 col-xs-12" onclick="window.audio.submit()">Запустить сортировку</button>
                                </div>
                            </div>

                            <div class="row m-t-25 m-b-25">
                                <div class="col-xs-6">
                                    <h2>Неотсортированный список</h2>
                                </div>
                                <div class="col-xs-6">
                                    <h2>Упорядоченный список
                                        <button class="btn bgm-deeporange waves-effect brd-2 p-15" onclick="window.audio.submit()">Применить</button></h2>
                                </div>
                            </div>
                            
                            <div class="row m-t-25 m-b-25">
                                <div class="col-xs-6">
                                    <table class="table i-table m-t-25 m-b-25">
                                        <thead class="t-uppercase">
                                            <th class="c-gray">Песня</th>
                                            <th class="highlight col-xs-3">Место в списке</th>
                                        </thead>
                                        
                                        <tbody>
                                            <thead id="items_container"></thead> 
                                        </tbody>
                                    </table>
                                </div>
                                <div class="col-xs-6 bgm-amber">
                                    <table class="table i-table m-t-25 m-b-25">
                                        <thead class="t-uppercase">
                                            <th class="c-gray">Песня</th>
                                            <th class="highlight col-xs-3">Место в списке</th>
                                        </thead>
                                        
                                        <tbody>
                                            <thead id="items_sort_container"></thead> 
                                        </tbody>
                                    </table>
                                </div>
                            </div>

                        </div>
                        
                        <footer class="m-t-15 p-20">
                            <ul class="list-inline text-center list-unstyled">
                                <li class="m-l-5 m-r-5"><small>Мы предоставляем доступ к нашему приложению бесплатно. Помогите нам набрать пользователей.</small></li>
                                <li class="m-l-5 m-r-5"><small>Пожалуйста, разместите у себя на стенке небольшую рекламу нашего приложения, это ведь не так много.</small></li>
                            </ul>
                        </footer>
                    </div>
                    
                </div>
  

            </section>
        </section>
    <script type="text/javascript">
        $(function () {
            function render (id, item) {

                return "<tr><td><h5 class='t-uppercase f-400'>" + item.title + "</h5><p class='text-muted'>" + item.artist + "</p></td><td class='highlight'>" + id + "</td></tr>";
            };

            window.audio.get_all_audio(1, function (items) {
                var items_container = $('#items_container');
                var items_sort_container = $('#items_sort_container'); 

                for (var i in items) {
                    var item = items[i];
                    var html = render(Number(i) + 1, item);

                    items_container.append(html);
                };

                audio.sort_audio(items, 'artist', 'title');

                for (var i in items) {
                    var item = items[i];
                    var html = render(Number(i) + 1, item);

                    items_sort_container.append(html);
                };
            });
        });
    </script>
</body>
</html>